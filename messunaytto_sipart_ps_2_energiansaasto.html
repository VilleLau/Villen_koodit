<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SIPART PS2 – energiatehokas asennoitin (standalone)</title>
  <style>
    :root{
      --bg:#0b1220; /* tumma tausta */
      --card: rgba(255,255,255,.06);
      --muted: #c9d1e1;
      --muted2: #9aa6bd;
      --accent:#0ea5a3; /* Siemens-tyyli */
      --brand:#105a9a;  /* Jukkola-sininen */
      --ok:#22c55e;
    }
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:#e6edf7}
    .wrap{max-width:1600px;margin:0 auto;padding:20px 28px 40px}
    /* Header */
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding-bottom:14px;border-bottom:1px solid rgba(255,255,255,.08)}
    .left{display:flex;align-items:center;gap:20px}
    h1{font-size:clamp(32px,5vw,72px);font-weight:750;margin:0;letter-spacing:.3px}
    .logos img{display:block;object-fit:contain;height:42px}
    .logos{display:flex;align-items:center;gap:14px}
    button{background:rgba(255,255,255,.08);border:0;border-radius:12px;color:#e6edf7;padding:8px 12px;cursor:pointer}
    button:hover{background:rgba(255,255,255,.12)}

    /* Airflow band */
    .airflow{height:110px;border-radius:16px;border:1px solid rgba(255,255,255,.1);position:relative;overflow:hidden;margin-top:14px}
    .airflow::before,.airflow::after{content:"";position:absolute;inset:0;background-repeat:repeat-x}
    .airflow::before{background-image:radial-gradient(3px 3px at 0 50%, rgba(255,255,255,.45), transparent 60%),radial-gradient(2px 2px at 0 30%, rgba(255,255,255,.25), transparent 60%);background-size:80px 100%,140px 100%;animation:flow1 18s linear infinite, flow2 24s linear infinite}
    .airflow::after{background-image:linear-gradient(180deg, rgba(16,90,154,.22), rgba(14,165,163,.14));}
    @keyframes flow1{to{background-position:-80px 50%,0 50%}}
    @keyframes flow2{to{background-position:0 50%,-140px 50%}}

    /* Grid */
    .grid{display:grid;gap:18px;margin-top:18px}
    @media (min-width:1000px){.grid{grid-template-columns:1fr 1fr}}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.1);border-radius:18px;padding:20px}
    .muted{color:var(--muted2);font-size:14px}
    .big{font-size:clamp(40px,7vw,84px);font-weight:800;letter-spacing:.5px}
    .sub{color:#b7c2d8}

    /* Bars */
    .bars{display:grid;gap:14px}
    .bar{height:18px;background:rgba(255,255,255,.12);border-radius:999px;overflow:hidden}
    .bar>span{display:block;height:100%;background:linear-gradient(90deg,#22c55e,#0ea5a3)}
    .row{display:flex;justify-content:space-between;align-items:center;color:#e6edf7}

    /* Controls */
    .controls{display:grid;gap:12px}
    @media (min-width:1000px){.controls{grid-template-columns:repeat(3,1fr)}}
    .input{display:flex;flex-direction:column;gap:6px}
    .input input{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);color:#e6edf7;border-radius:12px;padding:10px 12px;font-size:16px}
    .qtyBox{display:flex;align-items:end;gap:10px}
    .qtyBig{font-size:clamp(48px,8vw,96px);font-weight:900}
    .hidden{display:none!important}

    footer{margin-top:14px;color:#9aa6bd;font-size:13px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="left">
        <img src="jukkolasystems_logo_png.png" alt="Jukkola Systems" style="height:44px"/>
        <h1>SIPART PS2 – energiatehokas asennoitin</h1>
      </div>
      <div class="logos">
        <button id="btnPresent" title="Esitystila (H)">Esitystila: pois</button>
        <img src="Siemens-logo.svg.png" alt="Siemens"/>
      </div>
    </header>

    <section class="airflow" aria-hidden="true"></section>

    <section class="grid">
      <div class="card">
        <div class="muted">Vuosisäästö</div>
        <div class="qtyBox" style="margin-top:6px">
          <div>
            <div id="euroYear" class="big">0</div>
            <div class="sub">€/vuosi</div>
          </div>
        </div>
        <div style="margin-top:10px" class="sub">≈ <span id="kwhYear">0</span> kWh/vuosi</div>
      </div>

      <div class="card">
        <div class="muted">Paineilman kulutus (Nl/min)</div>
        <div class="bars" style="margin-top:10px">
          <div class="row"><span>SIPART PS2</span><span id="ps2Val">2.0</span></div>
          <div class="bar"><span id="ps2Bar" style="width:25%"></span></div>
          <div class="row"><span>Kilpailija A</span><span id="aVal">5.0</span></div>
          <div class="bar"><span id="aBar" style="width:62%"></span></div>
          <div class="row"><span>Kilpailija B</span><span id="bVal">7.5</span></div>
          <div class="bar"><span id="bBar" style="width:90%"></span></div>
        </div>
      </div>
    </section>

    <section id="controls" class="card" style="margin-top:18px">
      <div class="muted" style="margin-bottom:8px">Laskuri (muokkaa arvoja)</div>
      <div class="controls">
        <div class="input">
          <label>Kappalemäärä (venttiilit)</label>
          <input id="valves" type="number" value="200" min="1" max="5000" step="1"/>
        </div>
        <div class="input">
          <label>Tunnit vuodessa</label>
          <input id="hours" type="number" value="8000" min="0" max="8760" step="100"/>
        </div>
        <div class="input">
          <label>Sähkön hinta (€/kWh)</label>
          <input id="price" type="number" value="0.12" min="0" max="5" step="0.01"/>
        </div>
        <div class="input">
          <label>Kompressorin ominaissähkö (kWh/Nm³)</label>
          <input id="se" type="number" value="0.10" min="0.01" max="1" step="0.01"/>
        </div>
        <div class="input">
          <label>SIPART PS2 (Nl/min)</label>
          <input id="ps2" type="number" value="2.0" min="0.1" max="50" step="0.1"/>
        </div>
        <div class="input">
          <label>Kilpailija A (Nl/min)</label>
          <input id="a" type="number" value="5.0" min="0.1" max="50" step="0.1"/>
        </div>
        <div class="input">
          <label>Kilpailija B (Nl/min)</label>
          <input id="b" type="number" value="7.5" min="0.1" max="50" step="0.1"/>
        </div>
      </div>
    </section>

    <footer>
      <div>Yksinkertaistettu stand-alone versio (ei CDN-riippuvuuksia). Luvut esimerkinomaisia.</div>
      <div>Vinkit: H = Esitystila päälle/pois.</div>
    </footer>
  </div>

<script>
  // State
  const data = {
    valves: 200,
    hours: 8000,
    price: 0.12,
    se: 0.10,
    ps2: 2.0,
    a: 5.0,
    b: 7.5
  };

  // Helpers
  const $ = sel => document.querySelector(sel);
  const clamp = (v,min,max)=> Math.max(min, Math.min(max, v));
  function fmtEUR(n){ return n.toLocaleString('fi-FI',{style:'currency',currency:'EUR',maximumFractionDigits:0}); }
  function fmt(n){ return Math.round(n).toLocaleString('fi-FI'); }

  function recalc(){
    const avg = (Number($('#a').value)||0 + Number($('#b').value)||0)/2;
    const ps2 = Number($('#ps2').value)||0;
    const savedNlMinPerValve = Math.max(0, avg-ps2);
    const savedNm3hPerValve = (savedNlMinPerValve*60)/1000;
    const totalSavedKWh = savedNm3hPerValve * (Number($('#hours').value)||0) * (Number($('#se').value)||0) * (Number($('#valves').value)||0);
    const euros = totalSavedKWh * (Number($('#price').value)||0);

    $('#kwhYear').textContent = fmt(totalSavedKWh);
    $('#euroYear').textContent = fmtEUR(euros);

    // Bars
    const maxNl = Math.max(ps2, Number($('#a').value)||0, Number($('#b').value)||0, 1);
    $('#ps2Val').textContent = ps2.toFixed(1); $('#aVal').textContent = (Number($('#a').value)||0).toFixed(1); $('#bVal').textContent = (Number($('#b').value)||0).toFixed(1);
    $('#ps2Bar').style.width = (ps2/maxNl*100)+"%";
    $('#aBar').style.width = ((Number($('#a').value)||0)/maxNl*100)+"%";
    $('#bBar').style.width = ((Number($('#b').value)||0)/maxNl*100)+"%";
  }

  // Bind
  ['valves','hours','price','se','ps2','a','b'].forEach(id=>{
    const el = document.getElementById(id);
    el.addEventListener('input', recalc);
    el.addEventListener('change', recalc);
  });

  // Presentation mode (hide controls)
  let presentation = false;
  function setPresentation(b){
    presentation = !!b;
    document.getElementById('controls').classList.toggle('hidden', presentation);
    document.getElementById('btnPresent').textContent = 'Esitystila: ' + (presentation ? 'päällä' : 'pois');
  }
  document.getElementById('btnPresent').addEventListener('click', ()=> setPresentation(!presentation));
  window.addEventListener('keydown', e=>{ if(e.key==='h' || e.key==='H') setPresentation(!presentation); });

  recalc();
</script>
</body>
</html>
